/*
* jAQT
* Copyright 2022 Aquitano.
* Licensed under MIT (https://github.com/Aquitano/JustHTML/blob/main/LICENSE)
*/
class ElementCollection extends Array{ready(t){return this.some((t=>null!=t.readyState&&"loading"!=t.readyState))?t():this.on("DOMContentLoaded",t),this}on(t,e,s){return"function"==typeof e?this.forEach((s=>s.addEventListener(t,e))):this.forEach((r=>{r.addEventListener(t,(t=>{t.target.matches(e)&&s(t)}))})),this}next(){return this.map((t=>t.nextElementSibling)).filter((t=>null!=t))}prev(){return this.map((t=>t.previousElementSibling)).filter((t=>null!=t))}removeClass(t){return this.forEach((e=>e.classList.remove(t))),this}addClass(t){return this.forEach((e=>e.classList.add(t))),this}css(t,e){const s=t.replace(/(-[a-z])/,(t=>t.replace("-","").toUpperCase()));return this.forEach((t=>t.style[s]=e)),this}attr(t,e){return null==e?this.element.getAttribute(t):this.element.setAttribute(t,e),this}hide(){return this.element.style.display="none",this}show(){return this.element.style.display="block",this}}class AjaxPromise{constructor(t){this.promise=t}done(t){return this.promise=this.promise.then((e=>(t(e),e))),this}fail(t){return this.promise=this.promise.catch(t),this}always(t){return this.promise=this.promise.finally(t),this}}function $(t){return"string"==typeof t||t instanceof String?new ElementCollection(...document.querySelectorAll(t)):new ElementCollection(t)}$.get=function({url:t,dataGiven:e={},success:s=(()=>{}),dataType:r}){const n=Object.entries(e).map((([t,e])=>`${t}=${e}`)).join("&");return new AjaxPromise(fetch(`${t}?${n}`,{method:"GET",headers:{"Content-Type":r}}).then((t=>{if(t.ok)return t.json();throw new Error(t.status)})).then((t=>(s(t),t))))};